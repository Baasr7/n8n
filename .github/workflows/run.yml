name: Website Uptime Monitor

on:
  schedule:
    - cron: "*/5 * * * *"   # every 5 minutes
  workflow_dispatch:       # allow manual run

jobs:
  monitor:
    runs-on: ubuntu-latest

    steps:
      - name: Check website availability
        run: |
          echo "Checking website..."
          STATUS_CODE=$(curl -o /dev/null -s -w "%{http_code}" *https://n8n-nckh.onrender.com/)* 

          echo "HTTP Status Code: $STATUS_CODE"

          if [ "$STATUS_CODE" -ne 200 ]; then
            echo "❌ Website is DOWN"
            exit 1
          else
            echo "✅ Website is UP"
          fi
